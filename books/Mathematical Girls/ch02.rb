#coding:utf-8

# 2.8
def 等比数列之和 等比,项数
  return (1-等比**(项数+1))/(1-等比) # 土法子: (0..项数).inject(0){|和,幂|和+等比**幂}
end

数字 = 1337700 # 2*2*3*5*5*7*7*7*13
因数集 = [2,2,3,5,5,7,7,7,13]
个数集 = 因数集.inject({}){|个数,因数|个数[因数]||=0;个数[因数]+=1;个数}
p 数字本身 = 个数集.keys.collect{|因数|因数**个数集[因数]}.inject(1,&:*)
p 因数和 = 个数集.keys.collect{|因数|等比数列之和(因数,个数集[因数])}.inject(1,&:*)
